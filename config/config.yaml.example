# 服务配置
server:
  port: 8080
  host: "0.0.0.0"
  mode: "debug" # debug, release, test

# 日志配置
log:
  level: "info" # debug, info, warn, error
  format: "json" # json, text
  output: "file" # stdout, file
  file_path: "log/app.log"
  error_file_path: "log/error.log"
  info_file_path: "log/info.log"
  debug_file_path: "log/debug.log"
# 队列配置
queue:
  worker_count: 50 # 工作协程数量
  buffer_size: 10000 # 队列缓冲区大小
  timeout: 10 # 推送超时时间(秒)
  max_concurrent_per_platform: 20 # 每个平台最大并发数
  batch_size: 100 # 批处理大小

# 任务状态配置
task:
  cleanup_interval: 300 # 清理间隔(秒)，默认5分钟
  max_age: 3600 # 任务最大保存时间(秒)，默认1小时


# 推送配置
recipients:
  ops_alert:
    name: "运维告警组"
    platforms:
      feishu:
        enabled: false
        webhooks:
          - url: "https://open.feishu.cn/open-apis/bot/v2/hook/"
            secret: ""
            name: "测试机器人01"
          - url: "https://open.feishu.cn/open-apis/bot/v2/hook/"
            secret: ""
            name: "测试机器人02"
      dingtalk:
        enabled: false
        webhooks:
          - url: "https://oapi.dingtalk.com/robot/send?access_token="
            secret: ""
            name: "测试机器人01"
          - url: "https://oapi.dingtalk.com/robot/send?access_token="
            secret: ""
            name: "测试机器人02"
      wechat:
        enabled: true
        webhooks:
          - url: "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key="
            secret: ""
            name: "测试01"
          - url: "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?ke"
            secret: ""
            name: "测试02"

      email:
        enabled: true
        recipients:
          - email: "admin@example.com"
            name: "运维邮箱"
          - email: "alert@example.com"
            name: "告警邮箱"
      system:
        enabled: true
        notifications:
          - type: "console"
            name: "控制台通知"
          - type: "file"
            name: "文件通知"
          - type: "http"
            name: "内部存储通知"

  dev_notify:
    name: "开发通知组"
    platforms:
      feishu:
        enabled: true
        webhooks:
          - url: ""
            secret: ""
            name: "开发群"
      email:
        enabled: false
        webhooks:
          - url: "dev@example.com"
            secret: ""
            name: "开发邮箱"


# 邮件配置
email:
  # SMTP配置（直接发送邮件）
  smtp_host: ""           # SMTP服务器地址，如: smtp.gmail.com
  smtp_port: 465          # SMTP端口，通常587或465
  username: ""            # SMTP用户名
  password: ""            # SMTP密码或应用密码
  from: ""               # 发件人邮箱

# SMTP中继配置
smtp_relay:
  enabled: true           # 是否启用SMTP中继功能
  max_retries: 3          # 最大重试次数，0表示尝试所有账户

  # SMTP中继服务器配置（用户连接的服务器）
  server:
    host: "0.0.0.0"       # 中继服务器监听地址
    port: 2525            # 中继服务器端口（避免与标准SMTP端口冲突）

  # SMTP中继认证配置（用户连接时的认证信息）
  auth:
    username: "testuser"    # 用户连接中继服务器的用户名
    password: "testpassword"    # 用户连接中继服务器的密码

  accounts:               # 真实SMTP账户列表（用于转发）
    - name: "测试账户1"
      host: ""
      port: 465
      username: ""
      password: ""
      from: ""
      enabled: true


# 全局系统通知配置（最后防线）
system:
  enabled: true
  notifications:
    - type: "console"
      name: "控制台通知"
    - type: "file"
      name: "文件通知"
    - type: "http"
      name: "内部存储通知"

