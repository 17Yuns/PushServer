# 服务配置
server:
  port: 8080
  host: "0.0.0.0"
  mode: "debug" # debug, release, test

# 日志配置
log:
  level: "info" # debug, info, warn, error
  format: "json" # json, text
  output: "file" # stdout, file
  file_path: "log/app.log"
  error_file_path: "log/error.log"
  info_file_path: "log/info.log"
  debug_file_path: "log/debug.log"
# 队列配置
queue:
  worker_count: 50 # 工作协程数量
  buffer_size: 10000 # 队列缓冲区大小
  timeout: 10 # 推送超时时间(秒)
  max_concurrent_per_platform: 20 # 每个平台最大并发数
  batch_size: 100 # 批处理大小

# 任务状态配置
task:
  cleanup_interval: 300 # 清理间隔(秒)，默认5分钟
  max_age: 3600 # 任务最大保存时间(秒)，默认1小时


# 推送配置
recipients:
  ops_alert:
    name: "运维告警组"
    platforms:
      feishu:
        enabled: false
        webhooks:
          - url: "https://open.feishu.cn/open-apis/bot/v2/hook/"
            secret: ""
            name: "测试机器人01"
          - url: "https://open.feishu.cn/open-apis/bot/v2/hook/"
            secret: ""
            name: "测试机器人02"
      dingtalk:
        enabled: false
        webhooks:
          - url: "https://oapi.dingtalk.com/robot/send?access_token="
            secret: ""
            name: "测试机器人01"
          - url: "https://oapi.dingtalk.com/robot/send?access_token="
            secret: ""
            name: "测试机器人02"
      wechat:
        enabled: false
        webhooks:
          - url: ""
            secret: ""
            name: "企业微信告警群"
      email:
        enabled: true
        recipients:
          - email: "admin@example.com"
            name: "运维邮箱"
          - email: "alert@example.com"
            name: "告警邮箱"
      system:
        enabled: true
        notifications:
          - type: "console"
            name: "控制台通知"
          - type: "file"
            name: "文件通知"
          - type: "http"
            name: "内部存储通知"

  dev_notify:
    name: "开发通知组"
    platforms:
      feishu:
        enabled: true
        webhooks:
          - url: ""
            secret: ""
            name: "开发群"
      email:
        enabled: false
        webhooks:
          - url: "dev@example.com"
            secret: ""
            name: "开发邮箱"


# 邮件配置
email:
  # SMTP配置（直接发送邮件）
  smtp_host: ""           # SMTP服务器地址，如: smtp.gmail.com
  smtp_port: 587          # SMTP端口，通常587或465
  username: ""            # SMTP用户名
  password: ""            # SMTP密码或应用密码
  from: ""               # 发件人邮箱

# 全局系统通知配置（最后防线）
system:
  enabled: true
  notifications:
    - type: "console"
      name: "控制台通知"
    - type: "file"
      name: "文件通知"
    - type: "http"
      name: "内部存储通知"

